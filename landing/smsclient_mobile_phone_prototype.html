<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SMSClient.fr ‚Äî Prototype cliquable</title>
  <style>
    :root{
      --bg:#f5f7fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --border:#e6eaf2;
      --blue:#2f6fed;
      --blue-2:#4a86ff;
      --shadow: 0 18px 40px rgba(15, 23, 42, 0.10);
      --shadow-soft: 0 10px 22px rgba(15, 23, 42, 0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: var(--bg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
    }
    .stage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;}
    .app{
      width:min(1400px, 100%);
      aspect-ratio: 16 / 9;
      background: var(--card);
      border:1px solid var(--border);
      border-radius: 22px;
      box-shadow: var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .topbar{
      height:78px;display:flex;align-items:center;justify-content:space-between;
      padding: 18px 22px;border-bottom:1px solid var(--border);background:#fff;
    }
    .brand{display:flex;align-items:center;gap:14px;font-weight:800;letter-spacing:0.2px;font-size:24px;}
    .logo{
      width:44px;height:44px;border-radius:14px;
      background: linear-gradient(135deg, #7fb6ff, #3c7dff);
      display:grid;place-items:center;
      box-shadow: 0 10px 20px rgba(47,111,237,0.25);
    }
    .top-actions{display:flex;align-items:center;gap:12px;}
    .iconbtn{
      width:40px;height:40px;border-radius:12px;border:1px solid var(--border);background:#fff;
      display:grid;place-items:center;box-shadow: var(--shadow-soft);cursor:pointer;
    }

    .body{flex:1;display:grid;grid-template-columns: 290px 1fr;min-height:0;}

    /* sidebar */
    .sidebar{
      padding:18px;border-right:1px solid var(--border);background:#fff;
      display:flex;flex-direction:column;gap:14px;
    }
    .primary-cta{
      display:flex;align-items:center;gap:10px;padding: 14px 16px;border-radius: 14px;color:#fff;border:none;
      font-weight:700;background: linear-gradient(135deg, var(--blue-2), var(--blue));
      box-shadow: 0 18px 30px rgba(47,111,237,0.25);cursor:pointer;
    }
    .nav{display:flex;flex-direction:column;gap:10px;padding-top:4px;}
    .nav a{
      text-decoration:none;color:var(--text);display:flex;align-items:center;gap:12px;
      padding: 12px 14px;border-radius: 14px;font-weight:650;border:1px solid transparent;
    }
    .nav a svg{stroke: var(--blue); opacity:.9}
    .nav a.inactive{font-weight:550;color:#334155;}
    .nav a.inactive svg{opacity:.75}
    .nav a.active{background:#fff;border:1px solid var(--border);box-shadow: var(--shadow-soft);}
    .sidebar-spacer{flex:1}
    .side-footer{border-top:1px solid var(--border);padding-top:14px;display:flex;flex-direction:column;gap:10px;}
    .side-footer a{
      text-decoration:none;color:#334155;display:flex;align-items:center;gap:12px;
      padding: 12px 14px;border-radius: 14px;font-weight:600;
    }
    .side-footer a svg{stroke:#475569; opacity:.9}

    /* main */
    .main{padding: 24px 28px;min-width:0;min-height:0;display:flex;flex-direction:column;gap:18px;}
    .pagehead{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;}
    h1{margin:0;font-size:34px;letter-spacing:-0.4px;font-weight:850;}
    .head-actions{display:flex;align-items:center;gap:12px;margin-top:2px;flex-wrap:wrap;}
    .btn{
      height:44px;padding: 0 16px;border-radius: 14px;border:1px solid var(--border);
      background:#fff;color:#334155;font-weight:700;cursor:pointer;box-shadow: var(--shadow-soft);
    }
    .btn.primary{
      background: linear-gradient(135deg, var(--blue-2), var(--blue));
      border:none;color:#fff;padding: 0 18px;box-shadow: 0 18px 30px rgba(47,111,237,0.22);
    }
    .btn .plus{font-size:18px;display:inline-block;margin-right:8px;transform: translateY(-1px);}
    .searchrow{display:flex;align-items:center;gap:14px;margin-top:14px;flex-wrap:wrap;}
    .search{
      width: 520px;max-width:100%;
      height:44px;border-radius: 14px;border:1px solid var(--border);background:#fff;
      display:flex;align-items:center;gap:10px;padding: 0 14px;box-shadow: var(--shadow-soft);color: var(--muted);font-weight:600;
    }
    .search input{border:none;outline:none;font-size:14px;width:100%;color:var(--text);background:transparent;font-weight:600;}

    /* cards/tables */
    .card{
      background:#fff;border:1px solid var(--border);border-radius: 16px;box-shadow: var(--shadow-soft);
      overflow:hidden;display:flex;flex-direction:column;min-height:0;
    }
    .tablewrap{overflow:auto;min-height:0;}
    table{width:100%;border-collapse:separate;border-spacing:0;font-size:15px;}
    thead th{
      background:#f8fafc;color:#0f172a;text-align:left;padding: 14px 18px;border-bottom:1px solid var(--border);
      font-weight:800;white-space:nowrap;
    }
    tbody td{padding: 14px 18px;border-bottom:1px solid #eef2f7;color:#0f172a;white-space:nowrap;}
    tbody tr:last-child td{border-bottom:none;}
    tbody td.name{font-weight:850;}
    .tag{
      display:inline-flex;align-items:center;padding: 6px 10px;border-radius: 10px;background:#eef2ff;border:1px solid #dbe6ff;
      color:#1f3b77;font-weight:750;font-size:13px;
    }
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding: 6px 10px;border-radius: 999px;font-weight:800;font-size:12px;
      border:1px solid transparent;
    }
    .dot{width:8px;height:8px;border-radius:999px;background:currentColor;opacity:.9}
    .b-sent{background:#ecfeff;border-color:#cffafe;color:#0e7490;}
    .b-scheduled{background:#eef2ff;border-color:#dbe6ff;color:#1d4ed8;}
    .b-draft{background:#f1f5f9;border-color:#e2e8f0;color:#334155;}
    .b-failed{background:#fff1f2;border-color:#ffe4e6;color:#be123c;}
    .tablefooter{
      display:flex;align-items:center;justify-content:flex-end;gap:12px;padding: 12px 14px;border-top:1px solid var(--border);
      background:#fff;color:#475569;font-weight:650;
    }
    .pager{display:flex;align-items:center;gap:6px;}
    .page{
      width:34px;height:34px;border-radius:10px;display:grid;place-items:center;border:1px solid var(--border);
      background:#fff;color:#334155;cursor:pointer;font-weight:800;
    }
    .page.active{background: var(--blue);border-color: var(--blue);color:#fff;box-shadow: 0 10px 18px rgba(47,111,237,0.25);}
    .page.arrow{width:34px;font-weight:900;}

    /* stats layout */
    .kpis{display:grid;grid-template-columns: repeat(4, 1fr); gap:14px;}
    .kpi{
      border:1px solid var(--border);
      border-radius:16px;
      box-shadow: var(--shadow-soft);
      background:#fff;
      padding:16px 16px;
      min-height:92px;
    }
    .kpi .label{color:var(--muted);font-weight:750;font-size:13px}
    .kpi .value{font-weight:900;font-size:24px;margin-top:8px}
    .kpi .hint{color:#475569;font-weight:650;font-size:12px;margin-top:6px}

    .two-cols{display:grid;grid-template-columns: 1.2fr .8fr; gap:14px;}
    .panel{border:1px solid var(--border);border-radius:16px;box-shadow: var(--shadow-soft);background:#fff;padding:16px;}
    .panel h2{margin:0 0 10px 0;font-size:16px;font-weight:900;color:#0f172a}
    .fakechart{
      height:220px;border-radius:14px;background:#f8fafc;border:1px dashed #dbe3f0;
      display:grid;place-items:center;color:#64748b;font-weight:700;
    }

    /* views */
    .view{display:none}
    .view.active{display:flex;flex-direction:column;gap:18px;min-height:0}

    @media (max-width: 1100px){
      .app{aspect-ratio:auto;height:auto}
      .body{grid-template-columns: 260px 1fr}
      .kpis{grid-template-columns: repeat(2, 1fr);}
      .two-cols{grid-template-columns: 1fr;}
    }
    @media (max-width: 860px){
      .body{grid-template-columns: 1fr}
      .sidebar{display:none}
      .app{border-radius: 18px}
    }
  
    /* campaign wizard */
    .wizard{display:flex;flex-direction:column;gap:14px;min-height:0;}
    .steps{display:flex;gap:10px;flex-wrap:wrap;padding:12px 14px;border:1px solid var(--border);
      border-radius:16px;background:#fff;box-shadow: var(--shadow-soft);}
    .step{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:14px;border:1px solid transparent;
      color:#334155;font-weight:800;font-size:13px;cursor:pointer;text-decoration:none;background:#f8fafc;}
    .step .num{width:26px;height:26px;border-radius:10px;display:grid;place-items:center;background:#e2e8f0;color:#0f172a;font-weight:900;}
    .step.active{background:#fff;border-color:var(--border);box-shadow: var(--shadow-soft);}
    .step.active .num{background:var(--blue);color:#fff;box-shadow: 0 10px 18px rgba(47,111,237,0.25);}
    .formgrid{display:grid;grid-template-columns: 1fr 1fr;gap:14px;}
    .field{border:1px solid var(--border);border-radius:16px;box-shadow: var(--shadow-soft);background:#fff;padding:14px;}
    .field label{display:flex;justify-content:space-between;gap:10px;font-weight:900;color:#0f172a;font-size:13px}
    .field .help{color:#64748b;font-weight:650;font-size:12px;margin-top:8px;line-height:1.4}
    .input{margin-top:10px;height:46px;border-radius:14px;border:1px solid #dfe6f2;background:#f8fafc;padding:0 14px;display:flex;align-items:center;gap:10px;}
    .input input{width:100%;border:none;outline:none;background:transparent;font-weight:800;color:#0f172a;font-size:14px;}
    .counter{color:#64748b;font-weight:800;font-size:12px}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;border:1px solid var(--border);
      background:#fff;font-weight:800;color:#334155;font-size:12px;}
    .pill .dot{width:8px;height:8px;border-radius:999px;background:var(--blue);opacity:.9}
    .filters{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .textarea{width:100%;min-height:140px;border-radius:16px;border:1px solid #dfe6f2;background:#f8fafc;padding:14px;
      font-weight:800;color:#0f172a;font-size:14px;outline:none;resize:none;}
    .subrow{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-top:10px}
    .metrics{display:flex;gap:10px;flex-wrap:wrap}
    .metric{padding:8px 10px;border-radius:12px;background:#fff;border:1px solid var(--border);font-weight:850;color:#334155;font-size:12px}
    .hintline{color:#475569;font-weight:700;font-size:12px;margin-top:10px}
    .actionsbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .ghost{height:40px;padding:0 12px;border-radius:12px;border:1px solid var(--border);background:#fff;cursor:pointer;
      font-weight:850;color:#334155;box-shadow: var(--shadow-soft);}
    .drawer{border:1px solid var(--border);border-radius:16px;background:#fff;box-shadow: var(--shadow-soft);overflow:hidden;}
    .drawerhead{display:flex;align-items:center;justify-content:space-between;padding:14px 14px;border-bottom:1px solid var(--border);}
    .drawerhead h3{margin:0;font-size:14px;font-weight:950}
    .drawerbody{padding:14px;display:flex;flex-direction:column;gap:12px}
    .cards{display:grid;grid-template-columns: repeat(3, 1fr); gap:12px}
    .aicard{border:1px solid var(--border);border-radius:16px;background:#fff;box-shadow: var(--shadow-soft);padding:12px;display:flex;flex-direction:column;gap:10px;min-height:150px;}
    .aicard .msg{color:#0f172a;font-weight:800;font-size:13px;line-height:1.35}
    .aicard .mini{color:#64748b;font-weight:800;font-size:12px}
    .aicard .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:auto}
    .wizardlayout{display:grid;grid-template-columns: 1.3fr .7fr; gap:14px;align-items:start}
    .previewbox{border:1px solid var(--border);border-radius:16px;background:#fff;box-shadow: var(--shadow-soft);padding:14px;}
    .phone{border:1px solid #dfe6f2;background:#f8fafc;border-radius:18px;padding:12px;max-width:360px;}
    .smsbubble{background:#fff;border:1px solid var(--border);border-radius:16px;padding:12px;box-shadow: var(--shadow-soft);
      font-weight:800;color:#0f172a;line-height:1.35;font-size:13px;}
    .small{color:#64748b;font-weight:800;font-size:12px}
    .radioRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .radio{display:flex;align-items:flex-start;gap:10px;border:1px solid var(--border);background:#fff;border-radius:16px;padding:12px;
      box-shadow: var(--shadow-soft);cursor:pointer;min-width:220px;}
    .radio .title{font-weight:950}
    .radio .desc{color:#64748b;font-weight:750;font-size:12px;margin-top:4px}
    .radio .bubble{width:14px;height:14px;border-radius:999px;border:2px solid var(--blue);display:grid;place-items:center;margin-top:2px}
    .radio.active .bubble::after{content:"";width:7px;height:7px;border-radius:999px;background:var(--blue)}
    @media (max-width: 1100px){
      .wizardlayout{grid-template-columns: 1fr}
      .cards{grid-template-columns: 1fr}
      .formgrid{grid-template-columns: 1fr}
    }


    /* --- Mobile phone shell + forced mobile layout --- */
    body{background:#0b1220;}
    .stage{padding:28px;}
    .phone-shell{
      width: 420px;
      max-width: 95vw;
      aspect-ratio: 9 / 19.5;
      border-radius: 48px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      padding: 14px;
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.14);
      position: relative;
    }
    .phone-inner{
      width: 100%;
      height: 100%;
      background: var(--bg);
      border-radius: 40px;
      overflow: hidden;
      position: relative;
    }
    .notch{
      position:absolute; left:50%; top:12px; transform:translateX(-50%);
      width: 180px; height: 30px; border-radius: 18px;
      background: rgba(15,23,42,.9);
      border: 1px solid rgba(255,255,255,.08);
      z-index: 50;
    }
    .app{
      width: 100%;
      height: 100%;
      aspect-ratio: auto !important;
      border-radius: 0 !important;
      box-shadow: none !important;
      border: none !important;
      background: var(--bg);
    }
    .topbar{
      height: 64px;
      padding: 14px 14px 14px 16px;
      position: sticky; top:0; z-index: 10;
      border-bottom: 1px solid var(--border);
    }
    .brand{font-size:18px;}
    .logo{width:36px;height:36px;border-radius:12px;}
    .body{grid-template-columns: 1fr !important;}
    .sidebar{display:none !important;}
    .main{
      padding: 16px 14px 86px 14px !important; /* space for bottom nav */
      gap: 14px;
    }
    h1{font-size: 26px;}
    .search{width: 100%;}
    .pagehead{flex-direction:column;align-items:stretch;}
    .head-actions{justify-content:flex-start;}
    .btn{height:42px;border-radius:14px;}
    .btn.primary{height:42px;}

    /* responsive tables -> cards */
    thead{display:none;}
    table, tbody, tr, td{display:block;width:100%;}
    tbody tr{
      background:#fff;border:1px solid var(--border);border-radius:16px;
      box-shadow: var(--shadow-soft);
      margin: 10px 0;
      overflow:hidden;
    }
    tbody td{
      border-bottom: 1px solid #eef2f7;
      display:flex;justify-content:space-between;gap:12px;
      padding: 12px 14px;
      white-space: normal;
    }
    tbody td:last-child{border-bottom:none;}
    tbody td::before{
      content: attr(data-label);
      color: var(--muted);
      font-weight: 800;
      font-size: 12px;
      flex: 0 0 44%;
    }
    .tag{max-width: 52%; justify-content:center; text-align:center;}
    .badge{max-width: 52%; justify-content:center;}
    .tablefooter{justify-content:space-between;flex-wrap:wrap;gap:10px;}

    .kpis{grid-template-columns: 1fr 1fr;}
    .two-cols{grid-template-columns: 1fr;}
    .wizardlayout{grid-template-columns: 1fr;}
    .cards{grid-template-columns: 1fr;}
    .formgrid{grid-template-columns: 1fr;}
    .steps{gap:8px;}
    .step{flex:1;justify-content:center;}
    .step span:last-child{display:none;}

    /* bottom nav */
    .bottomnav{
      position:absolute; left:0; right:0; bottom:0;
      height: 78px;
      background:#fff;
      border-top:1px solid var(--border);
      display:flex;align-items:center;justify-content:space-around;
      padding: 10px 10px 14px;
      z-index: 20;
    }
    .bn-item{
      text-decoration:none;
      color:#334155;
      display:flex;flex-direction:column;align-items:center;gap:6px;
      font-weight:800;
      font-size:11px;
      width: 20%;
    }
    .bn-icon{
      width:38px;height:38px;border-radius:14px;
      display:grid;place-items:center;
      border:1px solid transparent;
      background:#f8fafc;
    }
    .bn-item.active .bn-icon{
      background:#fff;
      border-color: var(--border);
      box-shadow: var(--shadow-soft);
    }
    .bn-item.active{color: var(--text);}
    .bn-item.active svg{stroke: var(--blue); opacity: 1;}
    .bn-item svg{stroke:#64748b; opacity:.9}

</style>
</head>
<body>
  <div class="stage">
    <div class="phone-shell">
      <div class="notch" aria-hidden="true"></div>
      <div class="phone-inner">
        <div class="app" role="application" aria-label="SMSClient.fr (prototype cliquable)">
      <header class="topbar">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M7 18l-3 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H7z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
              <path d="M8 8h8" stroke="white" stroke-width="2" stroke-linecap="round"/>
              <path d="M8 12h6" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>SMSClient.fr</div>
        </div>
        <div class="top-actions">
          <button class="iconbtn" title="Notifications" aria-label="Notifications">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5" stroke="#0f172a" stroke-width="2" stroke-linecap="round"/>
              <path d="M9 17a3 3 0 0 0 6 0" stroke="#0f172a" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </header>

      <div class="body">
        <aside class="sidebar">
          <button class="primary-cta" id="ctaNew">
            <span style="font-size:18px;font-weight:900;">Ôºã</span>Nouvelle campagne
          </button>

          <nav class="nav" aria-label="Navigation">
            <a class="inactive" data-route="contacts" href="#contacts" id="nav-contacts">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke-width="2" stroke-linecap="round"/>
                <circle cx="12" cy="7" r="4" stroke-width="2"/>
              </svg>
              Contacts
            </a>

            <a class="inactive" data-route="groupes" href="#groupes" id="nav-groupes">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M20.6 13.2 11 22l-9-9 9.6-9.6a2 2 0 0 1 1.4-.6H19a2 2 0 0 1 2 2v5.6a2 2 0 0 1-.4 1.2z" stroke-width="2" stroke-linejoin="round"/>
                <circle cx="17" cy="7" r="1.6" stroke-width="2"/>
              </svg>
              Groupes
            </a>

            <a class="inactive" data-route="campagnes" href="#campagnes" id="nav-campagnes">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M22 2 11 13" stroke-width="2" stroke-linecap="round"/>
                <path d="M22 2 15 22l-4-9-9-4 20-7z" stroke-width="2" stroke-linejoin="round"/>
              </svg>
              Campagnes
            </a>

            <a class="inactive" data-route="credits" href="#credits" id="nav-credits">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M4 7c0-2 4-3 8-3s8 1 8 3-4 3-8 3-8-1-8-3z" stroke-width="2"/>
                <path d="M4 7v10c0 2 4 3 8 3s8-1 8-3V7" stroke-width="2"/>
                <path d="M4 12c0 2 4 3 8 3s8-1 8-3" stroke-width="2"/>
              </svg>
              Cr√©dits
            </a>

            <a class="inactive" data-route="statistiques" href="#statistiques" id="nav-statistiques">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M4 20V10" stroke-width="2" stroke-linecap="round"/>
                <path d="M10 20V4" stroke-width="2" stroke-linecap="round"/>
                <path d="M16 20v-7" stroke-width="2" stroke-linecap="round"/>
                <path d="M22 20v-12" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Statistiques
            </a>
          </nav>

          <div class="sidebar-spacer"></div>

          <div class="side-footer">
            <a href="#parametres" data-route="parametres" id="nav-parametres">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" stroke-width="2"/>
                <path d="M19.4 15a2 2 0 0 0 .4 2.2l.1.1a2.4 2.4 0 0 1-1.7 4.1 2.4 2.4 0 0 1-1.7-.7l-.1-.1a2 2 0 0 0-2.2-.4 2 2 0 0 0-1.2 1.8V22a2.4 2.4 0 0 1-4.8 0v-.1a2 2 0 0 0-1.2-1.8 2 2 0 0 0-2.2.4l-.1.1A2.4 2.4 0 0 1 2.7 19a2.4 2.4 0 0 1 .7-1.7l.1-.1a2 2 0 0 0 .4-2.2 2 2 0 0 0-1.8-1.2H2a2.4 2.4 0 0 1 0-4.8h.1a2 2 0 0 0 1.8-1.2 2 2 0 0 0-.4-2.2l-.1-.1A2.4 2.4 0 0 1 5 2.7a2.4 2.4 0 0 1 1.7.7l.1.1a2 2 0 0 0 2.2.4 2 2 0 0 0 1.2-1.8V2a2.4 2.4 0 0 1 4.8 0v.1a2 2 0 0 0 1.2 1.8 2 2 0 0 0 2.2-.4l.1-.1A2.4 2.4 0 0 1 21.3 5a2.4 2.4 0 0 1-.7 1.7l-.1.1a2 2 0 0 0-.4 2.2 2 2 0 0 0 1.8 1.2H22a2.4 2.4 0 0 1 0 4.8h-.1a2 2 0 0 0-1.8 1.2z" stroke-width="1.6" stroke-linejoin="round"/>
              </svg>
              Param√®tres
            </a>
            <a href="#deconnexion" data-route="deconnexion" id="nav-deconnexion">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M10 17l-1 4H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4l1 4" stroke-width="2" stroke-linecap="round"/>
                <path d="M17 7l5 5-5 5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M22 12H10" stroke-width="2" stroke-linecap="round"/>
              </svg>
              D√©connexion
            </a>
          </div>
        </aside>

        <main class="main">
          <section class="view" id="view-contacts">
            <div class="pagehead">
              <div>
                <h1>Contacts</h1>
                <div class="searchrow">
                  <div class="search" role="search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <circle cx="11" cy="11" r="7" stroke="#64748b" stroke-width="2"/>
                      <path d="M20 20l-3.3-3.3" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input placeholder="Rechercher un contact..." />
                  </div>
                </div>
              </div>
              <div class="head-actions">
                <button class="btn">Importer</button>
                <button class="btn primary"><span class="plus">+</span>Ajouter un contact</button>
              </div>
            </div>

            <section class="card">
              <div class="tablewrap">
                <table>
                  <thead>
                    <tr>
                      <th style="width:160px">Date de cr√©ation</th>
                      <th style="width:170px">Pr√©nom</th>
                      <th style="width:200px">T√©l√©phone</th>
                      <th style="width:220px">Groupe</th>
                      <th style="width:200px">Dernier SMS envoy√©</th>
                      <th style="width:170px">Source</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td>02/12/2025</td><td class="name">Sophie</td><td>06 45 23 78 91</td><td><span class="tag">Clients VIP</span></td><td>28/02/2026</td><td>Import CSV</td></tr>
                    <tr><td>15/01/2026</td><td class="name">Julien</td><td>06 34 89 56 20</td><td><span class="tag">Clients Fid√®les</span></td><td>20/01/2026</td><td>Ajout manuel</td></tr>
                    <tr><td>10/12/2025</td><td class="name">Marie</td><td>06 78 45 32 10</td><td>Non Class√©</td><td>05/01/2026</td><td>Import CSV</td></tr>
                    <tr><td>05/12/2025</td><td class="name">Pierre</td><td>06 43 31 16 72</td><td>Non Class√©</td><td>12/12/2025</td><td>Import CSV</td></tr>
                    <tr><td>28/02/2026</td><td class="name">Laura</td><td>06 60 31 10 90</td><td><span class="tag">Clients VIP</span></td><td>10/02/2026</td><td>Formulaire</td></tr>
                    <tr><td>09/01/2026</td><td class="name">Antoine</td><td>06 44 25 78 01</td><td><span class="tag">Clients Fid√®les</span></td><td>03/02/2026</td><td>Formulaire</td></tr>
                    <tr><td>12/12/2025</td><td class="name">Nicolas</td><td>06 35 29 78 83</td><td>Non Class√©</td><td>01/02/2026</td><td>Formulaire</td></tr>
                    <tr><td>04/12/2025</td><td class="name">Thomas</td><td>06 29 38 75 51</td><td>Non Class√©</td><td>16/12/2025</td><td>Formulaire</td></tr>
                  </tbody>
                </table>
              </div>
              <div class="tablefooter">
                <span>10 contacts affich√©s sur 64</span>
                <div class="pager">
                  <button class="page active">1</button><button class="page">2</button><button class="page">3</button><button class="page arrow">‚Ä∫</button>
                </div>
              </div>
            </section>
          </section>

          <section class="view" id="view-groupes">
            <div class="pagehead">
              <div>
                <h1>Groupes</h1>
                <div class="searchrow">
                  <div class="search" role="search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <circle cx="11" cy="11" r="7" stroke="#64748b" stroke-width="2"/>
                      <path d="M20 20l-3.3-3.3" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input placeholder="Rechercher un groupe..." />
                  </div>
                </div>
              </div>
              <div class="head-actions">
                <button class="btn">Importer</button>
                <button class="btn primary"><span class="plus">+</span>Cr√©er un groupe</button>
              </div>
            </div>

            <section class="card">
              <div class="tablewrap">
                <table>
                  <thead>
                    <tr>
                      <th style="width:260px">Nom du groupe</th>
                      <th style="width:160px">Contacts</th>
                      <th style="width:200px">Derni√®re campagne</th>
                      <th style="width:180px">Date de cr√©ation</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td class="name">Clients VIP</td><td>32</td><td>28/02/2026</td><td>02/12/2025</td></tr>
                    <tr><td class="name">Clients Fid√®les</td><td>48</td><td>03/02/2026</td><td>15/01/2026</td></tr>
                    <tr><td class="name">Nouveaux inscrits</td><td>29</td><td>‚Äî</td><td>19/01/2026</td></tr>
                    <tr><td class="name">Prospects</td><td>57</td><td>20/02/2026</td><td>05/12/2025</td></tr>
                    <tr><td class="name">Abonn√©s newsletter</td><td>43</td><td>13/12/2025</td><td>12/12/2025</td></tr>
                  </tbody>
                </table>
              </div>
              <div class="tablefooter">
                <span>5 groupes affich√©s sur 18</span>
                <div class="pager"><button class="page active">1</button><button class="page">2</button><button class="page">3</button><button class="page arrow">‚Ä∫</button></div>
              </div>
            </section>
          </section>

          <section class="view" id="view-campagnes">
            <div class="pagehead">
              <div>
                <h1>Campagnes</h1>
                <div class="searchrow">
                  <div class="search" role="search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <circle cx="11" cy="11" r="7" stroke="#64748b" stroke-width="2"/>
                      <path d="M20 20l-3.3-3.3" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input placeholder="Rechercher une campagne..." />
                  </div>
                </div>
              </div>
              <div class="head-actions">
                <button class="btn">Exporter</button>
                <button class="btn primary" id="btnNewCampaign"><span class="plus">+</span>Nouvelle campagne</button>
              </div>
            </div>

            <section class="card">
              <div class="tablewrap">
                <table>
                  <thead>
                    <tr>
                      <th style="width:160px">Date</th>
                      <th style="width:260px">Nom de la campagne</th>
                      <th style="width:170px">Destinataires</th>
                      <th style="width:180px">Statut</th>
                      <th style="width:200px">Envoi</th>
                      <th style="width:150px">Cr√©dits</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr><td>28/02/2026</td><td class="name">Promo fin d'hiver</td><td>128</td><td><span class="badge b-sent"><span class="dot"></span>Envoy√©e</span></td><td>28/02/2026 ‚Ä¢ 10:00</td><td>128</td></tr>
                    <tr><td>20/02/2026</td><td class="name">Relance clients inactifs</td><td>57</td><td><span class="badge b-scheduled"><span class="dot"></span>Programm√©e</span></td><td>22/02/2026 ‚Ä¢ 09:30</td><td>57</td></tr>
                    <tr><td>13/02/2026</td><td class="name">Nouveaut√© boutique</td><td>209</td><td><span class="badge b-sent"><span class="dot"></span>Envoy√©e</span></td><td>13/02/2026 ‚Ä¢ 18:15</td><td>209</td></tr>
                    <tr><td>03/02/2026</td><td class="name">Offre VIP</td><td>32</td><td><span class="badge b-sent"><span class="dot"></span>Envoy√©e</span></td><td>03/02/2026 ‚Ä¢ 11:05</td><td>32</td></tr>
                    <tr><td>19/01/2026</td><td class="name">Message d'information</td><td>43</td><td><span class="badge b-draft"><span class="dot"></span>Brouillon</span></td><td>‚Äî</td><td>‚Äî</td></tr>
                    <tr><td>12/12/2025</td><td class="name">Promo No√´l</td><td>150</td><td><span class="badge b-failed"><span class="dot"></span>Annul√©</span></td><td>12/12/2025 ‚Ä¢ 17:45</td><td>150</td></tr>
                  </tbody>
                </table>
              </div>
              <div class="tablefooter">
                <span>6 campagnes affich√©es sur 18</span>
                <div class="pager"><button class="page active">1</button><button class="page">2</button><button class="page">3</button><button class="page arrow">‚Ä∫</button></div>
              </div>
            </section>
          </section>

          <section class="view" id="view-credits">
            <div class="pagehead">
              <div>
                <h1>Cr√©dits</h1>
                <div class="searchrow">
                  <div class="search" role="search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <circle cx="11" cy="11" r="7" stroke="#64748b" stroke-width="2"/>
                      <path d="M20 20l-3.3-3.3" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input placeholder="Rechercher une facture..." />
                  </div>
                </div>
              </div>
              <div class="head-actions">
                <button class="btn">T√©l√©charger les factures</button>
                <button class="btn primary"><span class="plus">+</span>Acheter des cr√©dits</button>
              </div>
            </div>

            <div class="kpis">
              <div class="kpi"><div class="label">Cr√©dits restants</div><div class="value">620</div><div class="hint">Mise √† jour : aujourd'hui</div></div>
              <div class="kpi"><div class="label">Consommation (30j)</div><div class="value">1 240</div><div class="hint">SMS envoy√©s</div></div>
              <div class="kpi"><div class="label">Co√ªt moyen</div><div class="value">0,06‚Ç¨</div><div class="hint">par SMS</div></div>
              <div class="kpi"><div class="label">Prochaine recharge</div><div class="value">‚Äî</div><div class="hint">auto-recharge OFF</div></div>
            </div>

            <section class="card">
              <div class="tablewrap">
                <table>
                  <thead><tr><th style="width:220px">Pack</th><th style="width:180px">Cr√©dits</th><th style="width:180px">Prix</th><th style="width:220px">Action</th></tr></thead>
                  <tbody>
                    <tr><td class="name">Starter</td><td>500</td><td>39‚Ç¨</td><td><button class="btn primary" style="height:38px;padding:0 14px;border-radius:12px;">Acheter</button></td></tr>
                    <tr><td class="name">Business</td><td>2 000</td><td>129‚Ç¨</td><td><button class="btn primary" style="height:38px;padding:0 14px;border-radius:12px;">Acheter</button></td></tr>
                    <tr><td class="name">Pro</td><td>5 000</td><td>299‚Ç¨</td><td><button class="btn primary" style="height:38px;padding:0 14px;border-radius:12px;">Acheter</button></td></tr>
                  </tbody>
                </table>
              </div>
              <div class="tablefooter"><span>Factures disponibles : 6</span><div class="pager"><button class="page active">1</button><button class="page">2</button><button class="page arrow">‚Ä∫</button></div></div>
            </section>
          </section>

          <section class="view" id="view-statistiques">
            <div class="pagehead">
              <div>
                <h1>Statistiques</h1>
                <div class="searchrow">
                  <div class="search" role="search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <circle cx="11" cy="11" r="7" stroke="#64748b" stroke-width="2"/>
                      <path d="M20 20l-3.3-3.3" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input placeholder="Filtrer (ex : F√©vrier 2026)..." />
                  </div>
                </div>
              </div>
              <div class="head-actions">
                <button class="btn">Ce mois</button>
                <button class="btn primary">Exporter</button>
              </div>
            </div>

            <div class="kpis">
              <div class="kpi"><div class="label">SMS envoy√©s</div><div class="value">1 240</div><div class="hint">sur 30 jours</div></div>
              <div class="kpi"><div class="label">Taux d√©livr√©</div><div class="value">97%</div><div class="hint">moyenne</div></div>
              <div class="kpi"><div class="label">D√©sinscriptions</div><div class="value">14</div><div class="hint">STOP</div></div>
              <div class="kpi"><div class="label">Cr√©dits consomm√©s</div><div class="value">1 240</div><div class="hint">√©quivalent SMS</div></div>
            </div>

            <div class="two-cols">
              <div class="panel">
                <h2>√âvolution des campagnes</h2>
                <div class="fakechart">Graphique (mock)</div>
              </div>
              <div class="panel">
                <h2>Top groupes</h2>
                <div class="tablewrap">
                  <table>
                    <thead><tr><th>Groupe</th><th>SMS</th></tr></thead>
                    <tbody>
                      <tr><td class="name">Clients Fid√®les</td><td>520</td></tr>
                      <tr><td class="name">Prospects</td><td>410</td></tr>
                      <tr><td class="name">Clients VIP</td><td>310</td></tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </section>

          <section class="view" id="view-parametres">
            <div class="pagehead">
              <div>
                <h1>Param√®tres</h1>
                <div class="searchrow">
                  <div class="search" role="search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <circle cx="11" cy="11" r="7" stroke="#64748b" stroke-width="2"/>
                      <path d="M20 20l-3.3-3.3" stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input placeholder="Rechercher un param√®tre..." />
                  </div>
                </div>
              </div>
              <div class="head-actions"><button class="btn primary">Enregistrer</button></div>
            </div>

            <div class="panel">
              <h2>D√©sinscription (STOP)</h2>
              <p style="margin:0;color:#475569;font-weight:650;line-height:1.5">
                Gestion automatique des d√©sinscriptions via le mot-cl√© <strong>STOP</strong>.
              </p>
              <div style="margin-top:14px;display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
                <span class="badge b-sent"><span class="dot"></span>Activ√©</span>
                <button class="btn">D√©sactiver</button>
              </div>
            </div>

            <div class="panel">
              <h2>RGPD</h2>
              <div style="display:flex;gap:12px;flex-wrap:wrap;">
                <button class="btn">Exporter les donn√©es</button>
                <button class="btn">Supprimer un contact</button>
                <button class="btn" style="border-color:#fecaca;color:#b91c1c;">Supprimer le compte</button>
              </div>
            </div>
          </section>

          <section class="view" id="view-deconnexion">
            <div class="panel">
              <h2>D√©connexion</h2>
              <p style="margin:0;color:#475569;font-weight:650;line-height:1.5">
                Ceci est un prototype. Clique sur <strong>Contacts</strong> pour revenir.
              </p>
              <div style="margin-top:12px;">
                <a class="btn primary" href="#contacts" style="display:inline-flex;align-items:center;justify-content:center;text-decoration:none;">Retour</a>
              </div>
            </div>
          </section>
        

          <!-- NOUVELLE CAMPAGNE ‚Äî √âcran 1 -->
          <section class="view" id="view-nouvelle-campagne-1" aria-label="Nouvelle campagne (1)">
            <div class="wizard">
              <div class="pagehead">
                <div>
                  <h1>Cr√©er une campagne</h1>
                  <div class="small" style="margin-top:6px;font-weight:750;">√âtape 1/5 ‚Äî Informations</div>
                </div>
                <div class="head-actions">
                  <button class="btn" id="nc1Cancel">Annuler</button>
                  <button class="btn primary" id="nc1Next">Continuer</button>
                </div>
              </div>

              <div class="steps" aria-label="√âtapes">
                <a class="step active" href="#nouvelle-campagne-1"><span class="num">1</span>Infos campagne</a>
                <a class="step" href="#nouvelle-campagne-2"><span class="num">2</span>Destinataires</a>
                <a class="step" href="#nouvelle-campagne-3"><span class="num">3</span>Message + IA</a>
                <a class="step" href="#nouvelle-campagne-4"><span class="num">4</span>Pr√©visualisation</a>
                <a class="step" href="#nouvelle-campagne-5"><span class="num">5</span>Envoi</a>
              </div>

              <div class="formgrid">
                <div class="field">
                  <label>
                    <span>Titre de campagne <span style="color:#ef4444">*</span></span>
                    <span class="counter" id="titleCount">0/60</span>
                  </label>
                  <div class="input">
                    <input id="campaignTitle" maxlength="60" placeholder="Ex : Promo Janvier - VIP" />
                  </div>
                  <div class="help">Visible uniquement par vous. Recommand√© : 40‚Äì60 caract√®res.</div>
                </div>

                <div class="field">
                  <label>
                    <span>Nom exp√©diteur <span style="color:#ef4444">*</span></span>
                    <span class="counter" id="senderCount">0/11</span>
                  </label>
                  <div class="input">
                    <input id="senderName" maxlength="11" placeholder="Ex : BOULANGERIE" />
                  </div>
                  <div class="help">C‚Äôest ce nom qui appara√Ætra comme exp√©diteur du SMS. (max 11 caract√®res)</div>
                  <div class="filters">
                    <span class="pill" title="MAJUSCULE auto"><span class="dot"></span>MAJUSCULE auto</span>
                    <span class="pill" title="Lettres / chiffres / espaces"><span class="dot"></span>Caract√®res autoris√©s</span>
                  </div>
                </div>
              </div>

              <div class="panel" style="margin-top:6px;">
                <h2>R√®gles rapides</h2>
                <div class="small" style="line-height:1.6;">
                  ‚Ä¢ Le nom exp√©diteur est limit√© √† 11 caract√®res (lettres, chiffres et espaces).<br/>
                  ‚Ä¢ MAJUSCULE automatique activ√©e (modifiable plus tard).<br/>
                  ‚Ä¢ Les champs marqu√©s d‚Äôun * sont obligatoires.
                </div>
              </div>
            </div>
          </section>

          <!-- NOUVELLE CAMPAGNE ‚Äî √âcran 2 -->
          <section class="view" id="view-nouvelle-campagne-2" aria-label="Nouvelle campagne (2)">
            <div class="wizard">
              <div class="pagehead">
                <div>
                  <h1>Cr√©er une campagne</h1>
                  <div class="small" style="margin-top:6px;font-weight:750;">√âtape 2/5 ‚Äî Choisir les destinataires</div>
                </div>
                <div class="head-actions">
                  <button class="btn" id="nc2Back">Retour</button>
                  <button class="btn primary" id="nc2Next">Continuer vers le message</button>
                </div>
              </div>

              <div class="steps">
                <a class="step" href="#nouvelle-campagne-1"><span class="num">1</span>Infos campagne</a>
                <a class="step active" href="#nouvelle-campagne-2"><span class="num">2</span>Destinataires</a>
                <a class="step" href="#nouvelle-campagne-3"><span class="num">3</span>Message + IA</a>
                <a class="step" href="#nouvelle-campagne-4"><span class="num">4</span>Pr√©visualisation</a>
                <a class="step" href="#nouvelle-campagne-5"><span class="num">5</span>Envoi</a>
              </div>

              <div class="wizardlayout">
                <div class="panel">
                  <h2>Source de contacts</h2>
                  <div class="filters" style="margin-top:12px;">
                    <span class="pill"><span class="dot"></span>Liste / segment : Clients VIP</span>
                    <span class="pill"><span class="dot"></span>Liste / segment : Clients inactifs 90j</span>
                    <span class="pill"><span class="dot"></span>Import CSV (option)</span>
                    <span class="pill"><span class="dot"></span>S√©lection manuelle (option)</span>
                  </div>

                  <h2 style="margin-top:16px;">Filtres</h2>
                  <div class="filters">
                    <span class="pill"><span class="dot"></span>Dernier achat : 7j</span>
                    <span class="pill"><span class="dot"></span>Dernier achat : 30j</span>
                    <span class="pill"><span class="dot"></span>Dernier achat : 90j</span>
                    <span class="pill"><span class="dot"></span>Dernier achat : +90j</span>
                    <span class="pill"><span class="dot"></span>Montant : &gt; 50‚Ç¨</span>
                    <span class="pill"><span class="dot"></span>Montant : &gt; 100‚Ç¨</span>
                    <span class="pill"><span class="dot"></span>Tag : VIP</span>
                    <span class="pill"><span class="dot"></span>Tag : Anniversaire</span>
                  </div>
                </div>

                <div class="previewbox">
                  <h2>Aper√ßu</h2>
                  <div style="margin-top:12px;display:flex;flex-direction:column;gap:10px;">
                    <span class="badge b-sent"><span class="dot"></span><span id="selCount">1 284</span> contacts s√©lectionn√©s</span>
                    <span class="badge b-failed" style="color:#b91c1c;"><span class="dot"></span><span id="invalidCount">12</span> num√©ros invalides</span>
                    <button class="btn" style="justify-self:start;width:max-content;">Voir</button>
                  </div>
                  <div class="small" style="margin-top:12px;line-height:1.6;">
                    Conseil : supprime les num√©ros invalides pour √©viter la perte de cr√©dits.
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- NOUVELLE CAMPAGNE ‚Äî √âcran 3 -->
          <section class="view" id="view-nouvelle-campagne-3" aria-label="Nouvelle campagne (3)">
            <div class="wizard">
              <div class="pagehead">
                <div>
                  <h1>Cr√©er une campagne</h1>
                  <div class="small" style="margin-top:6px;font-weight:750;">√âtape 3/5 ‚Äî R√©diger le message</div>
                </div>
                <div class="head-actions">
                  <button class="btn" id="nc3Back">Retour</button>
                  <button class="btn primary" id="nc3Next">Continuer</button>
                </div>
              </div>

              <div class="steps">
                <a class="step" href="#nouvelle-campagne-1"><span class="num">1</span>Infos campagne</a>
                <a class="step" href="#nouvelle-campagne-2"><span class="num">2</span>Destinataires</a>
                <a class="step active" href="#nouvelle-campagne-3"><span class="num">3</span>Message + IA</a>
                <a class="step" href="#nouvelle-campagne-4"><span class="num">4</span>Pr√©visualisation</a>
                <a class="step" href="#nouvelle-campagne-5"><span class="num">5</span>Envoi</a>
              </div>

              <div class="wizardlayout">
                <div class="panel">
                  <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;">
                    <h2 style="margin:0;">Message</h2>
                    <button class="btn" id="toggleAI">‚ú® G√©n√©rer avec IA</button>
                  </div>

                  <textarea class="textarea" id="smsText" placeholder="Ex : -20% aujourd‚Äôhui sur toute la boutique üéâ Montrez ce SMS en caisse."></textarea>

                  <div class="subrow">
                    <div class="metrics">
                      <div class="metric">Caract√®res : <span id="charCount">0</span></div>
                      <div class="metric">Format : <span id="encoding">GSM-7</span></div>
                      <div class="metric">SMS estim√©s : <span id="smsParts">1</span></div>
                      <div class="metric">Cr√©dits : <span id="creditsCalc">1 284</span></div>
                    </div>
                    <div class="actionsbar">
                      <button class="ghost" id="addEmoji">üòÄ Emoji</button>
                      <button class="ghost" id="addLink">üîó Lien</button>
                      <button class="ghost" id="addVarPrenom">üß© {PRENOM}</button>
                      <button class="ghost" id="addVarNom">üß© {NOM}</button>
                      <button class="ghost" id="addVarPts">üß© {POINTS_FIDELITE}</button>
                      <button class="ghost" id="addVarDate">üß© {DATE_FIN_PROMO}</button>
                    </div>
                  </div>

                  <div class="hintline">Astuce : Personnalisez avec <strong>{PRENOM}</strong> pour augmenter le taux de clic.</div>
                </div>

                <div class="drawer" id="aiDrawer" style="display:none;">
                  <div class="drawerhead">
                    <h3>Copilot IA</h3>
                    <button class="btn" id="closeAI" style="height:36px;border-radius:12px;">Fermer</button>
                  </div>
                  <div class="drawerbody">
                    <div class="field" style="box-shadow:none;">
                      <label><span>Ton</span></label>
                      <div class="filters">
                        <span class="pill"><span class="dot"></span>Promotionnel</span>
                        <span class="pill"><span class="dot"></span>Pro / s√©rieux</span>
                        <span class="pill"><span class="dot"></span>Fun / friendly</span>
                        <span class="pill"><span class="dot"></span>Urgence</span>
                      </div>
                    </div>
                    <div class="field" style="box-shadow:none;">
                      <label><span>Objectif</span></label>
                      <div class="filters">
                        <span class="pill"><span class="dot"></span>Faire venir en boutique</span>
                        <span class="pill"><span class="dot"></span>Vente flash</span>
                        <span class="pill"><span class="dot"></span>Relance panier</span>
                        <span class="pill"><span class="dot"></span>Fid√©lisation / points</span>
                        <span class="pill"><span class="dot"></span>Avis Google</span>
                      </div>
                    </div>

                    <div class="cards" aria-label="Propositions IA">
                      <div class="aicard">
                        <div class="msg">üéâ {PRENOM}, -20% aujourd‚Äôhui sur toute la boutique ! Offre valable jusqu‚Äô√† 19h. Montrez ce SMS en caisse.</div>
                        <div class="mini">Unicode ‚Ä¢ ~2 SMS</div>
                        <div class="row">
                          <button class="btn" style="height:36px;border-radius:12px;">Copier</button>
                          <button class="btn primary useAI" style="height:36px;border-radius:12px;">Utiliser</button>
                        </div>
                      </div>
                      <div class="aicard">
                        <div class="msg">‚è∞ Derni√®re chance ! -20% jusqu‚Äô√† ce soir. Passez en boutique et montrez ce SMS √† la caisse.</div>
                        <div class="mini">Unicode ‚Ä¢ ~2 SMS</div>
                        <div class="row">
                          <button class="btn" style="height:36px;border-radius:12px;">Copier</button>
                          <button class="btn primary useAI" style="height:36px;border-radius:12px;">Utiliser</button>
                        </div>
                      </div>
                      <div class="aicard">
                        <div class="msg">Bonjour {PRENOM}, profitez de -20% sur votre prochain achat. Offre valable jusqu‚Äôau {DATE_FIN_PROMO}.</div>
                        <div class="mini">GSM-7 ‚Ä¢ 1 SMS</div>
                        <div class="row">
                          <button class="btn" style="height:36px;border-radius:12px;">Copier</button>
                          <button class="btn primary useAI" style="height:36px;border-radius:12px;">Utiliser</button>
                        </div>
                      </div>
                    </div>

                    <button class="btn" style="width:max-content;">üîÑ R√©g√©n√©rer variante</button>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- NOUVELLE CAMPAGNE ‚Äî √âcran 4 -->
          <section class="view" id="view-nouvelle-campagne-4" aria-label="Nouvelle campagne (4)">
            <div class="wizard">
              <div class="pagehead">
                <div>
                  <h1>Cr√©er une campagne</h1>
                  <div class="small" style="margin-top:6px;font-weight:750;">√âtape 4/5 ‚Äî Pr√©visualisation</div>
                </div>
                <div class="head-actions">
                  <button class="btn" id="nc4Back">Retour</button>
                  <button class="btn primary" id="nc4Next">Programmer l‚Äôenvoi</button>
                  <button class="btn primary" id="nc4SendNow" style="background:linear-gradient(135deg,#22c55e,#16a34a);box-shadow:0 18px 30px rgba(34,197,94,0.22);">Envoyer maintenant</button>
                </div>
              </div>

              <div class="steps">
                <a class="step" href="#nouvelle-campagne-1"><span class="num">1</span>Infos campagne</a>
                <a class="step" href="#nouvelle-campagne-2"><span class="num">2</span>Destinataires</a>
                <a class="step" href="#nouvelle-campagne-3"><span class="num">3</span>Message + IA</a>
                <a class="step active" href="#nouvelle-campagne-4"><span class="num">4</span>Pr√©visualisation</a>
                <a class="step" href="#nouvelle-campagne-5"><span class="num">5</span>Envoi</a>
              </div>

              <div class="wizardlayout">
                <div class="panel">
                  <h2>Aper√ßu</h2>
                  <div class="small" style="margin-top:6px;">Exp√©diteur : <strong id="prevSender">BOULANGERIE</strong></div>
                  <div class="phone" style="margin-top:12px;">
                    <div class="small" style="margin-bottom:8px;">SMS</div>
                    <div class="smsbubble" id="prevMsg">‚Äî</div>
                  </div>

                  <div class="small" style="margin-top:12px;">
                    Variables : ‚úÖ ok / ‚ö†Ô∏è champs manquants (simulation)
                  </div>

                  <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;">
                    <button class="btn">üß™ Envoyer un test (√† mon num√©ro)</button>
                  </div>
                </div>

                <div class="previewbox">
                  <h2>Co√ªt &amp; stats</h2>
                  <div style="margin-top:12px;display:flex;flex-direction:column;gap:10px;">
                    <div class="metric">Contacts : <strong>1 284</strong></div>
                    <div class="metric">Longueur : <strong id="prevLen">0</strong> caract√®res</div>
                    <div class="metric">Format : <strong id="prevEnc">GSM-7</strong></div>
                    <div class="metric">Total SMS : <strong id="prevTotal">1 284</strong></div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- NOUVELLE CAMPAGNE ‚Äî √âcran 5 -->
          <section class="view" id="view-nouvelle-campagne-5" aria-label="Nouvelle campagne (5)">
            <div class="wizard">
              <div class="pagehead">
                <div>
                  <h1>Cr√©er une campagne</h1>
                  <div class="small" style="margin-top:6px;font-weight:750;">√âtape 5/5 ‚Äî Envoi / Programmation</div>
                </div>
                <div class="head-actions">
                  <button class="btn" id="nc5Back">Retour</button>
                  <button class="btn primary" id="nc5Confirm">Confirmer</button>
                </div>
              </div>

              <div class="steps">
                <a class="step" href="#nouvelle-campagne-1"><span class="num">1</span>Infos campagne</a>
                <a class="step" href="#nouvelle-campagne-2"><span class="num">2</span>Destinataires</a>
                <a class="step" href="#nouvelle-campagne-3"><span class="num">3</span>Message + IA</a>
                <a class="step" href="#nouvelle-campagne-4"><span class="num">4</span>Pr√©visualisation</a>
                <a class="step active" href="#nouvelle-campagne-5"><span class="num">5</span>Envoi</a>
              </div>

              <div class="panel">
                <h2>Choisir le moment d‚Äôenvoi</h2>

                <div class="radioRow" id="sendMode">
                  <div class="radio active" data-mode="now">
                    <div class="bubble" aria-hidden="true"></div>
                    <div>
                      <div class="title">Maintenant</div>
                      <div class="desc">Envoi imm√©diat</div>
                    </div>
                  </div>

                  <div class="radio" data-mode="later">
                    <div class="bubble" aria-hidden="true"></div>
                    <div>
                      <div class="title">Plus tard</div>
                      <div class="desc">Date + heure</div>
                    </div>
                  </div>

                  <div class="radio" data-mode="quiet">
                    <div class="bubble" aria-hidden="true"></div>
                    <div>
                      <div class="title">√âviter heures sensibles</div>
                      <div class="desc">Pas apr√®s 21h</div>
                    </div>
                  </div>
                </div>

                <div class="formgrid" style="margin-top:14px;">
                  <div class="field">
                    <label><span>Date</span></label>
                    <div class="input"><input placeholder="Ex : 28/02/2026" /></div>
                    <div class="help">Visible si ‚ÄúPlus tard‚Äù est s√©lectionn√©.</div>
                  </div>
                  <div class="field">
                    <label><span>Heure</span></label>
                    <div class="input"><input placeholder="Ex : 10:00" /></div>
                    <div class="help">Fuseau horaire auto (Europe/Paris).</div>
                  </div>
                </div>
              </div>

              <div class="panel">
                <h2>R√©cap</h2>
                <div class="small" style="line-height:1.6;">
                  ‚Ä¢ Campagne : <strong id="recapTitle">Promo Janvier - VIP</strong><br/>
                  ‚Ä¢ Exp√©diteur : <strong id="recapSender">BOULANGERIE</strong><br/>
                  ‚Ä¢ Contacts : <strong>1 284</strong><br/>
                  ‚Ä¢ Total SMS estim√©s : <strong id="recapTotal">1 284</strong>
                </div>
              </div>
            </div>
          </section>

        </main>
      </div>

        <nav class="bottomnav" aria-label="Navigation mobile">
          <a class="bn-item" href="#contacts" data-bn="contacts" id="bn-contacts">
            <div class="bn-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke-width="2" stroke-linecap="round"/>
                <circle cx="12" cy="7" r="4" stroke-width="2"/>
              </svg>
            </div>
            Contacts
          </a>
          <a class="bn-item" href="#groupes" data-bn="groupes" id="bn-groupes">
            <div class="bn-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M20.6 13.2 11 22l-9-9 9.6-9.6a2 2 0 0 1 1.4-.6H19a2 2 0 0 1 2 2v5.6a2 2 0 0 1-.4 1.2z" stroke-width="2" stroke-linejoin="round"/>
                <circle cx="17" cy="7" r="1.6" stroke-width="2"/>
              </svg>
            </div>
            Groupes
          </a>
          <a class="bn-item" href="#campagnes" data-bn="campagnes" id="bn-campagnes">
            <div class="bn-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M22 2 11 13" stroke-width="2" stroke-linecap="round"/>
                <path d="M22 2 15 22l-4-9-9-4 20-7z" stroke-width="2" stroke-linejoin="round"/>
              </svg>
            </div>
            Campagnes
          </a>
          <a class="bn-item" href="#credits" data-bn="credits" id="bn-credits">
            <div class="bn-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M4 7c0-2 4-3 8-3s8 1 8 3-4 3-8 3-8-1-8-3z" stroke-width="2"/>
                <path d="M4 7v10c0 2 4 3 8 3s8-1 8-3V7" stroke-width="2"/>
                <path d="M4 12c0 2 4 3 8 3s8-1 8-3" stroke-width="2"/>
              </svg>
            </div>
            Cr√©dits
          </a>
          <a class="bn-item" href="#statistiques" data-bn="statistiques" id="bn-statistiques">
            <div class="bn-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M4 20V10" stroke-width="2" stroke-linecap="round"/>
                <path d="M10 20V4" stroke-width="2" stroke-linecap="round"/>
                <path d="M16 20v-7" stroke-width="2" stroke-linecap="round"/>
                <path d="M22 20v-12" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            Stats
          </a>
        </nav>

      </div>
    </div>
  </div>

  <script>
    const routes = ["contacts","groupes","campagnes","credits","statistiques","parametres","deconnexion","nouvelle-campagne-1","nouvelle-campagne-2","nouvelle-campagne-3","nouvelle-campagne-4","nouvelle-campagne-5"];

    function setActive(route){
      routes.forEach(r=>{
        const el = document.getElementById("view-"+r);
        if(el) el.classList.toggle("active", r===route);
      });

      const navIds = ["contacts","groupes","campagnes","credits","statistiques","parametres","deconnexion"];

      const navOverride = (route.startsWith("nouvelle-campagne-")) ? "campagnes" : route;
      navIds.forEach(id=>{
        const a = document.getElementById("nav-"+id);
        if(!a) return;
        const isActive = (id===navOverride);
        a.classList.toggle("active", isActive);
        a.classList.toggle("inactive", !isActive);
        if(isActive) a.setAttribute("aria-current","page");
        else a.removeAttribute("aria-current");
      });

      const mapTitle = {
        contacts:"Contacts",
        groupes:"Groupes",
        campagnes:"Campagnes",
        credits:"Cr√©dits",
        statistiques:"Statistiques",
        parametres:"Param√®tres",
        deconnexion:"D√©connexion",
        "nouvelle-campagne-1":"Nouvelle campagne ‚Äî Infos",
        "nouvelle-campagne-2":"Nouvelle campagne ‚Äî Destinataires",
        "nouvelle-campagne-3":"Nouvelle campagne ‚Äî Message",
        "nouvelle-campagne-4":"Nouvelle campagne ‚Äî Pr√©visualisation",
        "nouvelle-campagne-5":"Nouvelle campagne ‚Äî Envoi"
      };
      document.title = "SMSClient.fr ‚Äî " + (mapTitle[route] || "Prototype");
    }

    function getRoute(){
      const hash = (location.hash || "#contacts").replace("#","");
      return routes.includes(hash) ? hash : "contacts";
    }

    window.addEventListener("hashchange", ()=> setActive(getRoute()));
    setActive(getRoute());

    document.getElementById("ctaNew").addEventListener("click", ()=> location.hash = "#nouvelle-campagne-1");
    const btnNew = document.getElementById("btnNewCampaign");
    if(btnNew) btnNew.addEventListener("click", ()=> location.hash = "#nouvelle-campagne-1");

    // cosmetic pagination (each view independently)
    document.querySelectorAll('.pager').forEach(pager=>{
      pager.querySelectorAll('.page').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          pager.querySelectorAll('.page').forEach(b=>b.classList.remove('active'));
          if(!btn.classList.contains('arrow')) btn.classList.add('active');
        });
      });
    });
  
    // --- Nouvelle campagne (wizard) ---
    const SELECTED_CONTACTS = 1284;

    function isUnicode(str){
      for (const ch of str){
        if (ch.codePointAt(0) > 127) return true; // emoji / accents etc.
      }
      return false;
    }
    function smsPartsFor(text){
      const unicode = isUnicode(text);
      const per = unicode ? 70 : 160;
      const len = [...text].length;
      return Math.max(1, Math.ceil(len / per));
    }
    function formatInt(n){
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
    }

    // Step 1: counters + sender rules
    const titleInput = document.getElementById("campaignTitle");
    const senderInput = document.getElementById("senderName");
    const titleCount = document.getElementById("titleCount");
    const senderCount = document.getElementById("senderCount");

    function sanitizeSender(v){
      v = v.toUpperCase();
      v = v.replace(/[^A-Z0-9 ]/g, ""); // letters, numbers, spaces
      return v;
    }

    if(titleInput && titleCount){
      const update = ()=> titleCount.textContent = `${Math.min(titleInput.value.length,60)}/60`;
      titleInput.addEventListener("input", update); update();
    }
    if(senderInput && senderCount){
      const update = ()=>{
        const cur = sanitizeSender(senderInput.value);
        if(cur !== senderInput.value) senderInput.value = cur;
        senderCount.textContent = `${Math.min(senderInput.value.length,11)}/11`;
      };
      senderInput.addEventListener("input", update); update();
    }

    const go = (hash)=> { location.hash = hash; };
    const bind = (id, hash)=> { const el = document.getElementById(id); if(el) el.addEventListener("click", ()=> go(hash)); };

    bind("nc1Cancel", "#campagnes");
    bind("nc1Next", "#nouvelle-campagne-2");
    bind("nc2Back", "#nouvelle-campagne-1");
    bind("nc2Next", "#nouvelle-campagne-3");
    bind("nc3Back", "#nouvelle-campagne-2");
    bind("nc3Next", "#nouvelle-campagne-4");
    bind("nc4Back", "#nouvelle-campagne-3");
    bind("nc4Next", "#nouvelle-campagne-5");
    bind("nc4SendNow", "#nouvelle-campagne-5");
    bind("nc5Back", "#nouvelle-campagne-4");
    bind("nc5Confirm", "#campagnes");

    // Step 3: metrics + preview sync
    const smsText = document.getElementById("smsText");
    const charCount = document.getElementById("charCount");
    const encoding = document.getElementById("encoding");
    const smsParts = document.getElementById("smsParts");
    const creditsCalc = document.getElementById("creditsCalc");

    function updateMessageMetrics(){
      const text = smsText?.value || "";
      const len = [...text].length;
      const unicode = isUnicode(text);
      const parts = smsPartsFor(text);

      if(charCount) charCount.textContent = len;
      if(encoding) encoding.textContent = unicode ? "Unicode" : "GSM-7";
      if(smsParts) smsParts.textContent = parts;
      if(creditsCalc) creditsCalc.textContent = formatInt(parts * SELECTED_CONTACTS);

      // Step 4 preview + totals
      const prevMsg = document.getElementById("prevMsg");
      const prevLen = document.getElementById("prevLen");
      const prevEnc = document.getElementById("prevEnc");
      const prevTotal = document.getElementById("prevTotal");
      const recapTotal = document.getElementById("recapTotal");

      if(prevMsg) prevMsg.textContent = text || "‚Äî";
      if(prevLen) prevLen.textContent = len;
      if(prevEnc) prevEnc.textContent = unicode ? "Unicode" : "GSM-7";

      const total = parts * SELECTED_CONTACTS;
      if(prevTotal) prevTotal.textContent = formatInt(total);
      if(recapTotal) recapTotal.textContent = formatInt(total);
    }

    if(smsText){
      smsText.addEventListener("input", updateMessageMetrics);
      if(!smsText.value){
        smsText.value = "üéâ {PRENOM}, -20% aujourd‚Äôhui sur toute la boutique ! Offre valable jusqu‚Äô√† 19h. Montrez ce SMS en caisse.";
      }
      updateMessageMetrics();
    }

    const insertAtCursor = (text)=>{
      if(!smsText) return;
      const start = smsText.selectionStart ?? smsText.value.length;
      const end = smsText.selectionEnd ?? smsText.value.length;
      smsText.value = smsText.value.slice(0,start) + text + smsText.value.slice(end);
      smsText.selectionStart = smsText.selectionEnd = start + text.length;
      smsText.focus();
      updateMessageMetrics();
    };
    const byId = (id, text)=>{ const el = document.getElementById(id); if(el) el.addEventListener("click", ()=> insertAtCursor(text)); };
    byId("addEmoji", "üéâ");
    byId("addLink", " https://smsclient.fr");
    byId("addVarPrenom", "{PRENOM}");
    byId("addVarNom", "{NOM}");
    byId("addVarPts", "{POINTS_FIDELITE}");
    byId("addVarDate", "{DATE_FIN_PROMO}");

    // AI drawer
    const drawer = document.getElementById("aiDrawer");
    const toggleAI = document.getElementById("toggleAI");
    const closeAI = document.getElementById("closeAI");
    if(toggleAI && drawer) toggleAI.addEventListener("click", ()=> drawer.style.display = "block");
    if(closeAI && drawer) closeAI.addEventListener("click", ()=> drawer.style.display = "none");

    document.querySelectorAll(".useAI").forEach(btn=>{
      btn.addEventListener("click", (e)=>{
        const card = e.target.closest(".aicard");
        const msg = card?.querySelector(".msg")?.textContent?.trim();
        if(smsText && msg){
          smsText.value = msg;
          updateMessageMetrics();
          if(drawer) drawer.style.display = "none";
        }
      });
    });

    // Meta sync to preview/recap
    function syncMeta(){
      const title = titleInput?.value?.trim() || "Promo Janvier - VIP";
      const sender = senderInput?.value?.trim() || "BOULANGERIE";
      const prevSender = document.getElementById("prevSender");
      const recapTitle = document.getElementById("recapTitle");
      const recapSender = document.getElementById("recapSender");
      if(prevSender) prevSender.textContent = sender;
      if(recapTitle) recapTitle.textContent = title;
      if(recapSender) recapSender.textContent = sender;
    }
    if(titleInput) titleInput.addEventListener("input", syncMeta);
    if(senderInput) senderInput.addEventListener("input", syncMeta);
    syncMeta();

    // Step 5 radio selection
    const sendMode = document.getElementById("sendMode");
    if(sendMode){
      sendMode.querySelectorAll(".radio").forEach(r=>{
        r.addEventListener("click", ()=>{
          sendMode.querySelectorAll(".radio").forEach(x=>x.classList.remove("active"));
          r.classList.add("active");
        });
      });
    }

    // --- Mobile: add data-labels for responsive tables ---
    document.querySelectorAll("table").forEach(tbl=>{
      const headers = Array.from(tbl.querySelectorAll("thead th")).map(th=>th.textContent.trim());
      if(!headers.length) return;
      tbl.querySelectorAll("tbody tr").forEach(tr=>{
        Array.from(tr.children).forEach((td,i)=>{
          if(td && !td.getAttribute("data-label")) td.setAttribute("data-label", headers[i] || "");
        });
      });
    });

    // --- Mobile bottom nav highlight (wizard routes map to campagnes) ---
    function setBottomNav(route){
      const navRoute = (route.startsWith("nouvelle-campagne-")) ? "campagnes" : route;
      ["contacts","groupes","campagnes","credits","statistiques"].forEach(r=>{
        const el = document.getElementById("bn-"+r);
        if(el) el.classList.toggle("active", r===navRoute);
      });
    }
    window.addEventListener("hashchange", ()=> setBottomNav(getRoute()));
    setBottomNav(getRoute());

  </script>
</body>
</html>
